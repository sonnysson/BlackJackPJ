# 폴더 다운로드후 BlackJack_Ver1.ipynb 실행

# BlackJackPJ
블랙잭 (BlackJack) 게임 만들기
1. 금액을 배팅하고 딜러와 플레이어중 카드의 합이 21 또는 21에 가까운 숫자를 가지는 쪽이 이기는 게임
2. 카드의 수,딜러의 확률 계산 변수 설정
3.배팅할 금액을 적은후, 카드를 두장씩 가져감 ( 카드는 1-10까지 두장씩 들어있음) 나온 카드는 중복으로 나올수없음.
4.플레이어와 딜러(ai)는 두장을 받은후에 Stay를 할지 Hit를 할지 결정함
  - 여기서 ai는 남은 카드의 개수를 계산해 확률이 자신이 bust할 확률이 50% 이하면 Hit를 한다. (숫자가 21에 가까울수록 hit를 할 확률이 줄어들음)  딜러는 합이 17 이상이면 추가 카드를 받을수 없음
5.한장을 추가적으로 받고, 게임의 승패가 결정되었는지 구분 (21이 완성이 되었는가?  or 21을 넘었는가?)
6. 승패가 결정되지 않았다면 카드를 한장씩 더받고 구분하는 반복문 구성 승패가 결정되면 배팅한 금액에 따라 배분
7. 플레이어의 돈이 남아있다면 계속, 없다면 reset
플레이어의 모든 차례에는 타이머가 존재, Stay와 Hit에서 timeover가 되었다면 hit로 간주

블랙잭 (BlackJack) 게임 만들기 Window Modality

1. 금액을 배팅하고 딜러와 플레이어중 카드의 합이 21 또는 21에 가까운 숫자를 가지는 쪽이 이기는 게임
2. 카드의 수,딜러의 확률 계산 변수 설정
3.배팅할 금액을 적은후, 카드를 두장씩 가져감 ( 카드는 1-10까지 두장씩 들어있음) 나온 카드는 중복으로 나올수없음.
4.플레이어와 딜러(ai)는 처음 두장을 받은후에 Stay를 할지 Hit를 할지 결정함
  - 여기서 ai는 남은 카드의 개수를 계산해 확률이 자신이 bust할 확률이 50% 이하면 Hit를 한다. (숫자가 21에 가까울수록 hit를 할 확률이 줄어들음)  딜러는 합이 17 이상이면 추가 카드를 받을수 없음

5.한장을 추가적으로 받고, 게임의 승패가 결정되었는지 구분 (21이 완성이 되었는가?  or 21을 넘었는가?)
6. 승패가 결정되지 않았다면 카드를 한장씩 더받고 구분하는 반복문 구성 승패가 결정되면 배팅한 금액에 따라 배분
7. 플레이어의 돈이 남아있다면 계속, 없다면 reset

플레이어의 모든 차례에는 타이머가 존재, Stay와 Hit에서 timeover가 되었다면 hit로 간주

시작할때 플레이어는 1000 원의 돈이 주어지고 카드를 받기전 베팅을 한다 

후에 플레이어는 자신의 카드가 21이 되도록 맞춰야 하며 딜러는 자신의 카드가 17 이상 이 되면 자동으로 멈추게 된다

카드는 1-10까지 두장씩 있으며 뒤로 갈수록 자신이 21에 맞는 카드를 뽑을 확률을 대략적으로 알수있음

각 플레이어와 딜러의 카드 위치는 레이블로 설정 하였으며, 카드의 개수를 딕셔너리 형태로 구현, 카드가 뽑힐때마다 딕셔너리에서 
카드가 뽑혔다 라는것을 확인해 중복으로 나오는것을 방지,

 게임의 승패는 hit와 stay 플레이어가 카드를 뽑냐 안뽑냐 둘다 결정될수있음, 플레이어가 stay를 하더라도 딜러의 카드가 17이 되지 않으면 딜러는 카드를 더뽑고 승패를 결정함

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

버그수정내용

코드가 연속적으로 실행되기 때문에 게임의 승패가 결정되고 누가 이겼는지 확인할 겨를도 없이 턴이 넘어가서 누가 얼마의 카드로 이겼는지 확인이 어려워 딜레이할 시간이 필요했음
import time - sleep(1000) 사용을 해보았는데 슬립 함수는 클래스 내부 함수 전체가 멈추어서 코드 중간에서 딜레이하는 함수 import time - QTest.qWait(1000)를 사용해 카드를 뽑을때마다 넣어서 확인할수 있도록 하였음

딜러와 플레이어중 누가 이겼는지 확인하는 알고리즘을 짜는데 어려움이 많았음, 플레이어 둘다 21을 넘었을 경우에는 21에 가까운 플레이어가 이기고, 또한 둘다 21이 나왔을경우, 승리하는 모든 조건을 구현하지 않으면 구현하지 않은 승리조건이 나왔을때 게임이 리셋되지 않음, 승리 하는 여러 조건이 있는데 게임을 계속 플레이 하면서 버그가 발생할때 계속 파일을 수정해야 해서 없는 승리 조건이 없을수 있는데 계속 추가중에 있음

딜러와 플레이어 카드 뽑은 숫자를 카운트 해서 자리별로 카드를 setPixmap을 해야하는데 Player,Dealer  Count 위치가 적절하지 않아 버그가 발생 -  수정 완료


아쉽고 추가 해야할점
코드를 작성하는 도중 오류가 발생하면 어느 코드에서 오류가 났는지 코드의 가독성이 떨어져 빠른 확인이 불가능 했음
처음에는 gui를 구성하고 무작정 코드를 작성하였는데 그러지 말고 일단 함수를 어떻게 구현할지 뼈대를 잡아놓고 했더라면 코드가 더 깔끔하고 가독성이 좋았을것 같음

반복되는 코드는 함수로 구현해야 코드가 알아보기 쉬운데 그러질 못했음, 나중에 더 추가할 기회가 된다면 추가 해볼 예정
베팅하는 금액을 100% 50% 말고 다른 금액을 입력했을때 베팅할수 있도록 해야함

카드를 빠르게 HIT를 누르면 gui화면출력보다 코드가 더 빠르게 구현되어서 gui 화면출력이 밀리는 버그가 발생함 (코드 압축) # delay 함수 때문일수도 있음 확인 필요

Ai(Dealer) 가 남은 카드의 개수를 카운트해 내가 히트를 할지 스테이를 할지 결정하는 알고리즘을 구현하고 싶었는데 시간이 부족하여 구현하지 못함

카드를 받은후 제한시간 내 카드를 받을지 안받을지 결정하지 못하면 자동으로 카드를 받게하는 알고리즘을 구현해야함

플레이어는 게임을 플레이 하기전 id를 적어 금액이 가장 높은사람이 얼마정도인지 서버를 구현하고싶음

프로그램의 배경이나 배경음악, 승리 효과음, 패배 효과음을 구현하고 싶었는데 이건 꼭 구현할것임

카드를 받는 도중에도 배팅이 가능해져버림,,,, 게임중인지 베팅중인지 bool 값으로 받아서 가능하도록 해야함


-------------------------

게임을 해보고 싶은사람들은 깃허브 링크를 보내드리겠음! 혹시 플레이 하시면서 버그가 발생하면 바로 리포트 부탁드립니다. :)
